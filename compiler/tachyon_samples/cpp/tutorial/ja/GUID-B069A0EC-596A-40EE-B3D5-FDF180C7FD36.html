<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0016)http://localhost -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja-jp" lang="ja-jp">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="DC.Type" content="topic" />
<meta name="DC.Title" content="インテル&reg; TBB バージョンをビルドする" />
<meta name="DC.Relation" scheme="URI" content="GUID-4E518E06-60DC-4CA0-9398-5B15062EFC66.html" />
<meta name="DC.Relation" scheme="URI" content="http://www.intel.com/software/products/softwaredocs_feedback" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="GUID-B069A0EC-596A-40EE-B3D5-FDF180C7FD36" />
<meta name="DC.Language" content="ja-JP" />
<link rel="stylesheet" type="text/css" href="intel_css_styles.css" />
<title>インテル&reg; TBB バージョンをビルドする</title>
<script src="resources/prism/prism.js"><!----></script>
<link href="resources/prism/prism.css" rel="stylesheet" />
</head>
<body id="GUID-B069A0EC-596A-40EE-B3D5-FDF180C7FD36">
 <!-- ==============(Start:NavScript)================= -->
 <script src="NavScript.js" language="JavaScript1.2" type="text/javascript"></script>
 <script language="JavaScript1.2" type="text/javascript">WriteNavLink(0);</script>
 <!-- ==============(End:NavScript)================= -->


<h1 class="topictitle1">インテル&reg; TBB バージョンをビルドする</h1>
<div id="GUID-F0F51325-0475-4F40-8CB7-C36725B61634"><p>インテル&reg; スレッディング・ビルディング・ブロック (インテル&reg; TBB) バージョンをビルドするには、インテル&reg; TBB を使用するようにサンプル・アプリケーションを変更してから、変更したコードをコンパイルします。次に、アプリケーションを実行して、実行時間とベースラインを比較します。</p>
<ol id="GUID-73DD4793-87D0-426C-A75A-508C076CB53C"><li id="GUID-A2323D3B-6F8F-4F51-8EE9-E0C8C72989AB"><p>次のコマンドを実行して、シリアルバージョンのビルド時に作成されたファイルをすべて削除します。</p>
<p><span class="filepath">%make clean</span></p>
</li>
<li id="GUID-A2551441-A21E-476C-AF92-6CA450D029D4"><p>コードエディターでソースファイル <span class="filepath">src/build_with_tbb/build_with_tbb.cpp</span> を開きます。</p>
</li>
<li id="GUID-9EE5CA0B-AD16-4983-A223-F6C289B5CAFF"><p id="GUID-38F997B5-9711-49B4-BEAE-3087E12A454E">インテル&reg; TBB ヘッダーのコメントを外して、サンプル・アプリケーションで使用されるインテル&reg; TBB 関数を宣言します。<pre>#include "tbb/tbb.h"</pre></p>
</li>
<li><p>インテル&reg; TBB の実装に関連する <samp class="codeph">parallel_thread()</samp> 関数のコメントを外します。</p>
<ul id="GUID-A9DC9515-1846-4645-AD0D-457C507B6E1E"><li>この関数は、インテル&reg; TBB の <samp class="codeph">parallel_for</samp> 関数を呼び出します。この関数で並列呼び出しが行われます。この関数の最初の 2 つの引数は、ループを実行する反復空間を (<samp class="codeph">starty</samp> から <samp class="codeph">stopy</samp> で) 定義します。第 3 引数は、関数オブジェクトの生成作業をコンパイラーに任せる C++11 ラムダ式です。</li>
</ul>
</li>
<li><p>シリアル <samp class="codeph">serial parallel_thread()</samp> 関数をコメントアウトします。この関数はインテル&reg; TBB バージョンの <samp class="codeph">parallel_for()</samp> 関数に置換されます。</p>
</li>
<li><p>次のコマンドを実行してサンプルをビルドします。</p>
<p><span class="filepath">%make tbb</span></p>
</li>
<li id="GUID-1AAD569B-19B8-4BB2-B0EA-98908EC3C64A"><p id="GUID-10380FC5-0417-4AC3-9AAC-8D82FB12033D">サンプル・アプリケーションを実行します。</p>
</li>
</ol>
<p>イメージのレンダリングにかかった時間とパフォーマンスのベースラインを比較します。</p>
<p><a href="GUID-9E565F71-D5F4-47E7-96E3-8ED17764274F.html"><img class="border(0)" style="border-style: none" src="GUID-16FD5A1C-2BAC-489D-A70A-A3A4FCC6569B-low.jpg" alt="" /></a></p>
</div>

<div class="familylinks">
<div class="parentlink"><strong>親トピック:</strong> <a href="GUID-4E518E06-60DC-4CA0-9398-5B15062EFC66.html">チュートリアル: macOS* 版</a></div>
</div>
<div></div>
</body>
</html>
