<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0014)about:internet -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="DC.Type" content="topic" />
<meta name="DC.Title" content="Configure and Run Disk I/O Analysis" />
<meta name="DC.Relation" scheme="URI" content="GUID-3B2AF07D-354E-46E1-8D52-1CD085196368.html" />
<meta name="prodname" content="VTune Amplifier" />
<meta name="version" content="2017" />
<meta name="series" content="" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="GUID-E0B22255-231F-441D-A780-7DF1B4890751" />
<meta name="DC.Language" content="en-US" />
<link rel="stylesheet" type="text/css" href="intel_css_styles.css" />
<title>Configure and Run Disk I/O Analysis</title>
<script src="resources/prism/prism.js"><!----></script>
<link href="resources/prism/prism.css" rel="stylesheet" />
</head>
<body id="GUID-E0B22255-231F-441D-A780-7DF1B4890751">
 <!-- ==============(Start:NavScript)================= -->
 <script src="NavScript.js" language="JavaScript1.2" type="text/javascript"></script>
 <script language="JavaScript1.2" type="text/javascript">WriteNavLink(0);</script>
 <!-- ==============(End:NavScript)================= -->
<p id="header_text" style="margin-bottom : 20pt"><em>Intel&reg; VTune&#8482; Amplifier 2017</em></p>


<h1 class="topictitle1"> Configure and Run Disk I/O Analysis</h1>
<div><p id="GUID-7549653C-8C3C-44A3-B427-A23319899213"><img height="32" src="GUID-C2B5D55A-E9BE-48F2-BFAA-B91DE7D1BBBF-low.png" width="32" /> When you application is ready for analysis, create
		a VTune Amplifier project to specify your analysis target and run the data
		collection. 
	 </p>
<p id="GUID-CDEC1E85-8E2C-441B-9BFC-63A508A0A292"><strong id="GUID-45F7D7D6-6E03-470B-A64E-97AFDE09766C">To run the
		  analysis:</strong></p>
<ol id="GUID-88E742D9-B660-41A7-9EFE-5CAC97065C5A"><li><p><strong>Launch the VTune Amplifier with root privileges</strong>: From the 
			 <span class="filepath">&lt;<var>install_dir</var>&gt;/bin64</span>
			 directory, run the 
			 <samp class="codeph" id="GUID-9E31C4CB-7957-4673-857B-7B6FC37528C6">amplxe-gui 
			 </samp>script launching the VTune Amplifier GUI. 
		  </p>
</li>
<li><p><strong>Create a VTune Amplifier project:</strong></p>
<ol type="a" id="GUID-FF19210C-01C0-45DE-9A20-CA0A69DB2C94"><li><p id="GUID-B52CCF4F-F361-427C-A846-AC47DAC80275">From the menu,
				  select 
				  <strong id="GUID-5F35D3F1-0BA8-4E06-AD18-3DFD928C2D47">New &gt;
					 Project...</strong>. 
				</p>
<p>The 
				  <strong>Create a Project</strong> dialog box opens. 
				</p>
</li>
<li><p id="GUID-795E8E2F-87AD-4468-8842-7F8776D76F7A">In the dialog
				  box, specify the project name 
				  <samp class="codeph" id="GUID-43CA6C9E-2D8D-4F69-895F-C5D472561193">diskio</samp> that will be
				  used as the project directory name and click 
				  <b class="uicontrol">Create Project</b>. 
				</p>
<p id="GUID-ADF2CAF4-D479-48FD-9FD7-F36D024140C6">VTune Amplifier
				  creates the 
				  <samp class="codeph" id="GUID-D8E941C6-C563-428A-BBE8-E2ED4E1837B2">diskio</samp> project
				  directory under the 
				  <samp class="codeph" id="GUID-2F2A90CF-8661-4E6D-9CDD-AEDB4F3E1E2C">root/intel/ampl/projects</samp>
				  directory and opens the 
				  <strong id="GUID-B2A25F9A-CDE3-46C5-9FDA-9F7E60E5DC2E">Choose Target
					 and Analysis Type</strong> window. 
				</p>
</li>
</ol>
</li>
<li><p><strong>Configure your analysis target:</strong></p>
<ol type="a" id="GUID-775D34BE-1D16-4534-819B-85E5E6074D0F"><li><p>From the left pane on the 
				  <b class="uicontrol">Analysis Target</b> tab, select the 
				  <b class="uicontrol">Accessible Targets &gt; local</b> target
				  system. 
				</p>
</li>
<li><p id="GUID-EE40EDA3-C3B3-49C5-9B79-DAA864E89A76">From the right
				  pane, select the 
				  <strong id="GUID-FF422FA7-B8FF-4140-B9F1-F8A24D923C07">Launch
					 Application</strong> target type and specify your target as follows: 
				</p>
<ul id="GUID-A5BA6132-3C64-477C-B8EC-B433834749F4"><li><p id="GUID-5BADB436-48C9-4F42-B573-07C24B215184">For the 
						<b class="uicontrol" id="GUID-4A2EF593-E8E6-48D3-AB00-A2722D199B32">Application</b> field,
						browse to: 
						<span class="filepath" id="GUID-A8070542-6A1B-4184-B464-EA2302AA00ED">&lt;<var>sample_code_dir</var>&gt;</span>,
						for example: 
						<span class="filepath" id="GUID-0F027BC3-703F-4D79-BF29-E3BE7655F875">/home/samples/diskio/diskio</span>.
						
					 </p>
</li>
<li><p>In the 
						<strong>Application parameters</strong> field, specify the following
						parameters for this target: 
						<samp class="codeph">-f out.txt -m c</samp>. 
					 </p>
</li>
</ul>
<p><img height="230" src="GUID-024B634A-93FF-40E5-9DC6-0C63F01EE082-low.png" width="565" /></p>
</li>
</ol>
</li>
<li><p id="GUID-E14FF671-26B6-438D-90D3-673C108E10D3"><strong>Select and run the
				analysis:</strong></p>
<ol type="a" id="GUID-BB6F4220-9B35-4AF3-80EC-A1EE99A5CF84"><li><p id="GUID-91E0FD64-2D07-4A25-9FFE-C03F083659BC">Click the 
				  <strong id="GUID-37D99CB9-ED68-44E4-A72B-E34FDE170110">Choose
					 Analysis</strong> button on the right to select an analysis type. 
				</p>
<p id="GUID-174140EA-53D3-4DF3-AD40-38678FD6EC60">The 
				  <strong id="GUID-8C84B47A-D08F-4441-9BD4-681695B3FA62">Analysis
					 Type</strong> tab is active. 
				</p>
</li>
<li><p id="GUID-A3F01FCB-817B-4CF3-AA51-1E3A62C0D376"> From the left pane, select 
				  <strong id="GUID-D50618FB-6832-4477-A4D6-9CF8837E5CB6">Platform
					 Analysis &gt; Disk Input/Output Analysis</strong>. 
				</p>
<p id="GUID-8FD115FA-3CED-4EE5-9D03-23518F81622F">The right pane is
				  updated with the predefined settings for the Disk Input/Output analysis. 
				</p>
</li>
<li><p id="GUID-8AB54099-EF36-4369-9DFF-48649B925659">Click the 
				  <strong id="GUID-A05AFD17-24AE-489E-AC55-AD2F23E8B33D">Start</strong>
				  button on the right. 
				</p>
<div class="Note"><h3 class="NoteTipHead">Note</h3> <ul id="GUID-897620B7-2B52-4663-AB60-F1168733BC99"><li><p> The Disk Input and Output analysis actively relies on the
						  data produced by the kernel block driver system. In case your platform utilizes
						  a non-standard block driver sub-system (for example, user-space storage
						  drivers), disk metrics will not be available in the analysis type. 
						</p>
</li>
<li><p>Almost all Disk I/O metrics collected by the VTune
						  Amplifier are system-wide (except for the I/O API calls that are attributed to
						  a process). So when collecting the data, the VTune Amplifier automatically
						  enables the 
						  <strong>Analyze system-wide</strong> target configuration option. 
						</p>
</li>
</ul>
</div>
</li>
</ol>
</li>
</ol>
<p id="GUID-CDBCDDB7-2582-4CC7-9D47-78BBEFECA8B2"> VTune Amplifier launches
		the 
		<samp class="codeph" id="GUID-5496624B-49E6-478C-AAF2-65B8D6780A64">diskio</samp>
		application in the system cache mode so that the application asynchronously
		writes records (16 Byte) to the output file 
		<samp class="codeph">out.txt</samp>, using the system file cache, and exits. VTune
		Amplifier finalizes the collected results and opens the analysis result in the 
		<b class="uicontrol" id="GUID-82FB4C58-D075-4106-8EB3-E408CE160CB2">Disk
		  Input/Output Analysis</b> viewpoint. 
	 </p>
<p id="GUID-3A163DB6-382F-4151-962B-96E17589F80B">To
		make sure the performance of the application is repeatable, go through the
		entire tuning process on the same system with a minimal amount of other
		software executing. 
	 </p>
<div class="Note"><h3 class="NoteTipHead">Note</h3> <p id="GUID-E6EF6C83-F67B-41C8-8041-CC57B8FEE58B">This tutorial explains
		  how to run an analysis from the VTune Amplifier graphical user interface (GUI).
		  You can also use the VTune Amplifier command-line interface (<samp class="codeph" id="GUID-34D1984D-C798-48B0-9532-6B5380F4B111">amplxe-cl</samp> command) to
		  run an analysis. If you run the sample program from the VTune Amplifier
		  command-line interface, enter: 
		</p>
<pre>$ amplxe-cl -collect disk-io -app-working-dir /home/samples -- /home/samples/diskio -f out.txt -m c</pre><p>For more details, check the 
		  <em id="GUID-08E7A5E8-981D-488D-B7B4-6D581ABE6756">Command-line
			 Interface Support</em> section of the VTune Amplifier Help. 
		</p>
</div>
<div class="section" id="GUID-D2E1B29C-E72C-4C49-8A12-1D85E55CA354"><h2 class="sectiontitle">Recap</h2><p id="RECAP_RUN">You launched the VTune Amplifier as root, created a
		  project, specified the sample application as an analysis target and ran the
		  Disk Input and Output analysis using the system file cache application mode. 
		</p>
</div>
<div class="section" id="GUID-67EEA187-F5AA-4CC5-9224-52AA0E957CB6"><h2 class="sectiontitle">Key Terms </h2><ul id="GUID-06994074-FB70-45E9-BEE5-EDEA0EBC3FB8"><li><p><a href="GUID-A2E96D11-0086-4A5F-8B2D-5736FDCD2889.html#PCIE">project</a></p>
</li>
<li><p><a href="GUID-A2E96D11-0086-4A5F-8B2D-5736FDCD2889.html#GUID-5EAB21BB-5400-4754-A1A7-51D99CDB8A94">target</a></p>
</li>
<li><p><a href="GUID-A2E96D11-0086-4A5F-8B2D-5736FDCD2889.html#FINALIZATION">finalization</a></p>
</li>
<li><p id="GUID-BD75EB2E-2ACB-497A-A8D0-BB8E7041B2C7"><a href="GUID-A2E96D11-0086-4A5F-8B2D-5736FDCD2889.html#GUID-1B5043B8-253D-4758-A765-3CDCD11AD26C">viewpoint</a></p>
</li>
</ul>
</div>
<div class="section" id="GUID-03E5A245-AA13-436C-AECF-8E938E12BFB2"><h2 class="sectiontitle">Next Step</h2><p><a href="GUID-47820606-91EB-4C40-BA60-D199275D0ACF.html">Analyze I/O Data in the System
			 Cache Mode</a></p>
</div>
</div>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-3B2AF07D-354E-46E1-8D52-1CD085196368.html">Analyzing Disk Input and Output Waits</a></div>
</div>
<div></div>
</body>
</html>
